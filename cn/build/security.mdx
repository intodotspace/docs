---
title: "安全性"
description: "风险控制与安全机制"
---
Space 实施多层风险控制来保护用户并维护市场完整性。
## 预言机安全
**多源验证：**
- [Pyth](https://www.pyth.network/) + [Switchboard](https://switchboard.xyz/) 价格的中位数
- 如果[预言机](/cn/resolution/oracle)差异 >2% 则拒绝
- 15 分钟 TWAP 平滑操纵行为
**活性检查：**
- 要求 TWAP 窗口内有最低更新次数
- 如果预言机暂时宕机则延长窗口
- 如果数据不足则标记为无效
**价格限制：**
- 每分钟最大 1% 价格变动
- 异常值检测：拒绝 >3 个标准差的价格
- 多数据源中位数防止单一来源操纵
## 熔断机制
如果价格变动达到以下条件，市场自动暂停：
- <60 秒内变动 10%
- <5 分钟内变动 25%
**触发时：**
<Steps>
  <Step title="立即暂停交易" titleSize="h3">
    
  </Step>
  <Step title="切换到集合竞价模式" titleSize="h3">
    
  </Step>
  <Step title="通知管理员" titleSize="h3">
    
  </Step>
  <Step title="冷却后自动恢复或手动批准" titleSize="h3">
    
  </Step>
</Steps>
防止闪崩和操纵企图。
## 清算控制
头寸价值 < 维持保证金 → 清算
**清算流程：**
<Steps>
  <Step title="清算 25% 的头寸" titleSize="h3">
    
  </Step>
  <Step title="向保险基金收取 10% 罚金" titleSize="h3">
    
  </Step>
  <Step title="检查是否仍处于水下" titleSize="h3">
    
  </Step>
  <Step title="如果是：再清算 25%" titleSize="h3">
    
  </Step>
  <Step title="重复直到头寸安全或完全清算" titleSize="h3">
    
  </Step>
</Steps>
**保险基金：**
- 由清算罚金（清算价值的 10%）资助
- 加上所有平台费用的 5%
- 覆盖因延迟/拥堵导致的负余额
- 余额在链上公开可见
- 目标储备：平台 TVL 的 2% 保险基金保护平台免受因价格快速变动或网络拥堵导致无法及时清算而产生的用户账户负余额影响。
## 事件前冻结
市场可以在结算前实施冻结机制：
**选项 1：费用递增**
距结算时间 < 10 分钟：$\text{Taker 费用} \times 3$
距结算时间 < 5 分钟：$\text{Taker 费用} \times 5$
**选项 2：头寸冻结**
距结算时间 < 5 分钟：
- 新建头寸：禁用
- 平仓：启用
防止利用内幕信息或更快信息获取优势进行的最后时刻操纵。
## 滑点保护
用户设置市价单的最大可接受滑点（默认 5%）。
如果 $\frac{|\text{实际成交价} - \text{预期价格}|}{ \text{预期价格}} > \text{最大滑点}$：→ 回滚交易 → 不执行交易 → 不收取费用
保护用户免受波动或流动性薄弱市场中意外执行价格的影响。
## 平台升级
**时间锁要求：**
- 参数变更：48 小时时间锁
- 关键代码变更：72 小时时间锁
**多签控制：**
- 管理功能：3/5 多签
- 结算提交：2/3 多签
- 紧急暂停：2/5 多签（更快响应）
所有治理操作在链上透明记录。
## 未来：zkML 与 zkTLS 研究
Space 正在研究[零知识证明](/cn/concepts/resolution)，以实现预测市场中尚未使用的更前沿、无信任的主观结算：
**zkML（零知识机器学习）：**
- 在不泄露模型权重的情况下证明 AI 模型输出
- 结算逻辑的链上验证
- 不需要信任结算运营商
**zkTLS（零知识传输层安全）：**
- 证明数据是从特定 URL 获取的
- 来源真实性的加密证明
- 与 zkML 结合实现完全自动化结算
**组合架构：** 通过 zkTLS 获取新闻文章 → 使用 zkML 处理 → 在链上提交证明 → 具有加密保证的自动结算。
